# Copyright 2020 Manuel Calero <manuelcalero@xtendoo.es>
# License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl.html).

from datetime import date
from odoo import fields, models


class FieldNotebookExploitation(models.Model):
    _name = "field.notebook.exploitation"
    _inherit = ["mail.thread", "mail.activity.mixin"]
    _description = "Field Notebook Exploitation"

    name = fields.Char(
        string="Exploitation Name",
        required=True,
        index=True,
        tracking=True,
    )

    exploitation_business_name = fields.Char(
        string="Business name",
        index=True,
        tracking=True,
    )

    exploitation_planting_date = fields.Date(
        string="Planting Date",
        index=True,
        tracking=True,
    )

    exploitation_street = fields.Char('Street', compute='_compute_partner_address_values', readonly=False, store=True)
    exploitation_street2 = fields.Char('Street2', compute='_compute_partner_address_values', readonly=False, store=True)
    exploitation_zip = fields.Char('Zip', change_default=True, compute='_compute_partner_address_values',
                                   readonly=False, store=True)
    exploitation_city = fields.Char('City', compute='_compute_partner_address_values', readonly=False, store=True)
    exploitation_state_id = fields.Many2one(
        "res.country.state", string='State',
        compute='_compute_partner_address_values', readonly=False, store=True,
        domain="[('country_id', '=?', country_id)]")
    country_id = fields.Many2one(
        'res.country', string='Country',
        compute='_compute_partner_address_values', readonly=False, store=True)

    exploitation_vat = fields.Char(
        string="Vat",
        index=True,
        tracking=True,
    )

    exploitation_revision = fields.Boolean(
        default=False,
        string="Revision",
        index=True,
        tracking=True,
    )


    exploitation_email = fields.Char(
        string="Email",
        index=True,
        tracking=True,
    )

    exploitation_phone = fields.Char(
        string="Phone",
        index=True,
        tracking=True,
    )

    exploitation_mobile = fields.Char(
        string="Mobile",
        index=True,
        tracking=True,
    )

    exploitation_vulnerable_zone_id = fields.Many2one(
        'field.notebook.vulnerable.zone', string='Vulnerable Zone', readonly=False, store=True)

